{% extends 'todo/base.html' %}

{% block content %}

{{ error }}

{{ todo.title }}
<h5>Created on: {{ todo.datecreated}}</h5>
<!-- The following is never shown the way the code is written; it's a placeholder -->
{% if todo.completed %}<h5>Completed on: {{ todo.datecompleted}}</h5>{% endif %}

<!-- The form got defined in views.py, as 'TodoForm' -->
<form method="POST">
    {% csrf_token %}
    {{ form.as_p}}
    <button type="submit">Save</button>    
</form>

<!-- To trigger 'completetodo' we need to create a new form with a 'Complete' button. 
The 'action' defines what the button is doing -->
<form method="POST" action="{% url 'completetodo' todo.id %}">
    {% csrf_token %}
    <button type="submit">Complete</button>    
</form>


<!-- To trigger 'deletetodo' we need to create a new form with a 'Delete' button. 
The 'action' defines what the button is doing -->
<form method="POST" action="{% url 'deletetodo' todo.id %}">
    {% csrf_token %}
    <button type="submit">Delete</button>    
</form>





{% endblock %}